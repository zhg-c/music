import{d as S,r as g,c as p,o as T,a,b as e,t as s,w as h,v as V,F as k,e as f,f as B,g as c,h as F,i as l,n as w,j as K,k as M}from"./index-f3_TcQCT.js";const N={class:"p-8 max-w-screen-xl mx-auto min-h-full"},A={key:0,class:"text-center py-20"},R={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},U={key:2,class:"text-center py-20 bg-gray-100 dark:bg-gray-800 rounded-lg"},$={class:"text-4xl font-extrabold text-gray-900 dark:text-white mb-8 border-b-4 border-green-500 pb-2"},j={class:"bg-gray-50 dark:bg-gray-800 p-6 rounded-xl shadow-lg mb-8"},q={class:"mb-6 flex items-center space-x-4"},z={class:"flex flex-wrap items-center gap-4"},E={class:"flex space-x-2"},G=["onClick"],H=["value"],O={key:3,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},P={class:"text-2xl font-bold text-gray-900 dark:text-white mb-1 hover:text-green-600 transition duration-150"},I={class:"text-md text-gray-500 dark:text-gray-400 mb-4"},J={class:"flex flex-wrap gap-2 text-sm"},Q={class:"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-300 px-3 py-1 rounded-full"},W={class:"bg-blue-100 text-blue-600 dark:bg-blue-900 dark:text-blue-300 px-3 py-1 rounded-full"},X={key:4,class:"text-center py-20 bg-gray-100 dark:bg-gray-800 rounded-lg"},tt=S({__name:"index",setup(Y){const y=[{id:1,title:"姑苏行",artist:"江先渭",difficulty:"中级",duration:"5:30",key:"D调"},{id:2,title:"牧民新歌",artist:"简广易",difficulty:"高级",duration:"4:15",key:"C调"},{id:3,title:"春江花月夜",artist:"古曲",difficulty:"初级",duration:"6:00",key:"G调"},{id:4,title:"扬鞭催马运粮忙",artist:"魏显忠",difficulty:"高级",duration:"3:50",key:"A调"},{id:5,title:"喜相逢",artist:"冯子存",difficulty:"中级",duration:"3:30",key:"F调"},{id:6,title:" P T H",artist:"佚名",difficulty:"初级",duration:"2:10",key:"降B调"},{id:7,title:"雪山春晓",artist:"聂中明",difficulty:"高级",duration:"5:00",key:"D调"},{id:8,title:"我是一个兵",artist:"佚名",difficulty:"初级",duration:"2:30",key:"C调"}],n=g(""),i=g("all"),o=g("all"),_=p(()=>{const d=new Set(y.map(t=>t.key));return["all",...Array.from(d)].sort()}),C=["all","初级","中级","高级"],u=p(()=>{const d=n.value.toLowerCase();return y.filter(t=>{const b=t.title.toLowerCase().includes(d)||t.artist.toLowerCase().includes(d),r=i.value==="all"||t.difficulty===i.value,v=o.value==="all"||t.key===o.value;return b&&r&&v})}),D=d=>{switch(d){case"初级":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"中级":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";case"高级":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}},m=()=>{n.value="",i.value="all",o.value="all"},x=g(!0),L=()=>{x.value=!0,setTimeout(()=>{x.value=!1},1500)};return T(()=>{L()}),(d,t)=>{const b=F("RouterLink");return l(),a("div",N,[x.value?(l(),a("div",A,[...t[2]||(t[2]=[e("div",{class:"i-carbon-spinner-gap animate-spin text-6xl text-green-600 mx-auto mb-4"},null,-1),e("p",{class:"text-xl text-gray-600 dark:text-gray-300"}," 正在加载竹笛曲谱，请稍候... ",-1)])])):u.value.length>0?(l(),a("div",R)):(l(),a("div",U)),e("h1",$," 竹笛曲谱库 ("+s(u.value.length)+" / "+s(y.length)+" 首) ",1),e("div",j,[e("div",q,[t[3]||(t[3]=e("div",{class:"i-carbon-search text-2xl text-gray-500 dark:text-gray-400"},null,-1)),h(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=r=>n.value=r),placeholder:"搜索曲名或作者...",class:"flex-grow p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-green-500 focus:border-green-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white transition duration-150"},null,512),[[V,n.value]])]),e("div",z,[t[5]||(t[5]=e("label",{class:"text-gray-700 dark:text-gray-300 font-medium whitespace-nowrap"},"难度：",-1)),e("div",E,[(l(),a(k,null,f(C,r=>e("button",{key:r,onClick:v=>i.value=r,class:w(["px-4 py-2 rounded-full text-sm font-semibold transition duration-150",{"bg-green-600 text-white shadow-md":i.value===r,"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600 border border-gray-300 dark:border-gray-600":i.value!==r}])},s(r==="all"?"全部难度":r),11,G)),64))]),t[6]||(t[6]=e("label",{for:"key-select",class:"text-gray-700 dark:text-gray-300 font-medium ml-4"},"调性：",-1)),h(e("select",{id:"key-select","onUpdate:modelValue":t[1]||(t[1]=r=>o.value=r),class:"p-2 border border-gray-300 rounded-lg shadow-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white"},[(l(!0),a(k,null,f(_.value,r=>(l(),a("option",{key:r,value:r},s(r==="all"?"所有调性":r),9,H))),128))],512),[[B,o.value]]),e("button",{onClick:m,class:"ml-auto px-4 py-2 text-sm text-red-600 dark:text-red-400 border border-red-300 dark:border-red-600 rounded-lg hover:bg-red-50 dark:hover:bg-gray-700 transition duration-150"},[...t[4]||(t[4]=[e("div",{class:"i-carbon-trash-can inline-block mr-1"},null,-1),c(" 重置 ",-1)])])])]),u.value.length>0?(l(),a("div",O,[(l(!0),a(k,null,f(u.value,r=>(l(),a("div",{key:r.id,class:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg hover:shadow-2xl transition duration-300 border-t-4 border-green-500"},[K(b,{to:`/scores/${r.id}`,class:"block"},{default:M(()=>[e("h3",P,s(r.title),1),e("p",I," 作者："+s(r.artist),1),e("div",J,[e("span",{class:w([D(r.difficulty),"px-3 py-1 rounded-full font-semibold"])},[t[7]||(t[7]=e("div",{class:"i-carbon-star inline-block mr-1"},null,-1)),c(" "+s(r.difficulty),1)],2),e("span",Q,[t[8]||(t[8]=e("div",{class:"i-carbon-time inline-block mr-1"},null,-1)),c(" "+s(r.duration),1)]),e("span",W,[t[9]||(t[9]=e("div",{class:"i-carbon-music-add inline-block mr-1"},null,-1)),c(" "+s(r.key),1)])])]),_:2},1032,["to"])]))),128))])):(l(),a("div",X,[t[10]||(t[10]=e("div",{class:"i-carbon-data-unavailable text-6xl text-gray-400 mx-auto mb-4"},null,-1)),t[11]||(t[11]=e("p",{class:"text-xl text-gray-600 dark:text-gray-300"}," 没有找到符合筛选条件的竹笛曲谱。 ",-1)),e("button",{onClick:m,class:"mt-4 text-green-600 hover:underline"}," 清除所有筛选条件 ")]))])}}});export{tt as default};
